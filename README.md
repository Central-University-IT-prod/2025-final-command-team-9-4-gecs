### Команда
### <img src="https://REDACTED/team-9/4-gecs/-/raw/master/images/4gecs.png" width=276 height=108> 
### Представляют решение на кейс - LoyalT
# LoyaLottie
<img src="https://REDACTED/team-9/4-gecs/-/raw/master/images/Logo.png" width=50%>

### Цель
Цель проекта - создать удобную и легко интегрируемую платфому для управления программами лояльности с целью вовлечения и удержания клиентов.

### Деплой
Все необходимое для успешного запуска проекта находится в ```docker-compose.yml```. Для локального запуска достаточно ```docker compose up -d```.

### Документация API
Находится в папке проекта API ```/app/openapi.yml```. Инстанс Swagger и Redoc поднимается вместе со всем проектом

### Структура
Все находится в 1 репозитории, но в отдельных папках.

Бекенд находится в папке /app

Фронтенд находится в /frontend 

### Тесты
Коллекция тестов для postman находится в ```/tests/LoyalT Platform API.postman_collection.json```.

### Описание основного контейнера с API
Основное API написано на Python 3.13 с использованием библиотек FastAPI, PyDantic, SQLAlchemy и других, описанных в ```requirements.txt```. В качестве базы данных используется PostgreSQL и в качестве файлового сервера используется Seaweed-FS

### Описание контейнера с фронтэндом
Контайнер "frontend" можно считать сборщиком. Он собирает проект используя Vite и копирует артефакты в отдельную папку, к которой подключен вебсервер Caddy, который передает все файлы

### Описание Pipeline
CI-CD работает в 2 этапа: build и deploy

Во время этапа build у нас происходит сборка Docker контейнера бекенда. Это исключает возможные ошибки на этапе его запуска.

Этап deploy подключается к удаленному серверу по SSH, скачивает репозиторий с gitlab и запускает его через docker compose. На этом этапе происходит сборка сервисов которые были изменены

### Описание стукрутры проекта (Бекенд)
- Фреймворк FastAPI (Python 3.13)
- Основные файлы:
  - `app/src/main.py` - Основная точка входа, запускает роуты
  - `app/src/database.py` - Подключение к базе данных и основные функции для нее
  - `app/src/models.py` - Модели базы данных
  - `app/src/schemas.py` - Pydantic схемы
  - `app/src/jwt.py` - Создание и валидация JWT токенов
  - `app/src/routers/` - Роутеры API

